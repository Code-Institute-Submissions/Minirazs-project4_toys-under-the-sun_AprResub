{% extends 'base.template.html' %}
{% load cloudinary %}
{% load static %}


{% block content %}
    <h1>My Shopping Cart</h1>
    <a href="{% url 'checkout' %}" class="btn btn-success">Checkout</a>

   {%for key, item in cart.items %}
    <div class="card mt-2 mb-2">       
        <div class="card-body">
         <div class="card-title"><h3>{{item.title}}</h3></div>
         <div>
            <form method="POST" action="{% url 'update_cart_quantity' toy_id=item.id%}">
                {% csrf_token %}
                {% cloudinary item.cover alt="Product image" width=200 height=120 crop="fill"%}
                Quantity:<input type="text" value="{{item.qty}}" name="qty" style="width:40px" />
                <input class="btn btn-primary btn-sm" type="submit" value="Update Quantity">
            </form>
         </div>
            Price: ${{item.price}}<br/>
            <a href="{% url 'remove_from_cart' toy_id=item.id %}" class="btn btn-danger btn-sm">Remove</a>
        </div>
    </div>
    {%endfor%}



{%endblock%}